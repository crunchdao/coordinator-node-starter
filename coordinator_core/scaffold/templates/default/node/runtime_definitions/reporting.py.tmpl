from __future__ import annotations


def report_schema():
    return {
        "schema_version": "1",
        "leaderboard_columns": [
            {
                "id": 1,
                "type": "MODEL",
                "property": "model_id",
                "format": None,
                "displayName": "Model",
                "tooltip": None,
                "nativeConfiguration": {
                    "type": "model",
                    "statusProperty": "status",
                },
                "order": 0,
            },
            {
                "id": 2,
                "type": "VALUE",
                "property": "score_recent",
                "format": "decimal-1",
                "displayName": "Recent Score",
                "tooltip": "The score of the player over the last 24 hours.",
                "nativeConfiguration": None,
                "order": 20,
            },
            {
                "id": 3,
                "type": "VALUE",
                "property": "score_steady",
                "format": "decimal-2",
                "displayName": "Steady Score",
                "tooltip": "The score of the player over the last 72 hours.",
                "nativeConfiguration": None,
                "order": 30,
            },
            {
                "id": 4,
                "type": "VALUE",
                "property": "score_anchor",
                "format": "decimal-3",
                "displayName": "Anchor Score",
                "tooltip": "The score of the player over the last 7 days.",
                "nativeConfiguration": None,
                "order": 40,
            },
        ],
        "metrics_widgets": [
            {
                "id": 1,
                "type": "CHART",
                "displayName": "Score Metrics",
                "tooltip": None,
                "order": 10,
                "endpointUrl": "/reports/models/global",
                "nativeConfiguration": {
                    "type": "line",
                    "xAxis": {"name": "performed_at"},
                    "yAxis": {
                        "series": [
                            {"name": "score_recent", "label": "Recent Score"},
                            {"name": "score_steady", "label": "Steady Score"},
                            {"name": "score_anchor", "label": "Anchor Score"},
                        ],
                        "format": "decimal-2",
                    },
                    "displayEvolution": False,
                },
            },
            {
                "id": 2,
                "type": "CHART",
                "displayName": "Predictions",
                "tooltip": None,
                "order": 30,
                "endpointUrl": "/reports/predictions",
                "nativeConfiguration": {
                    "type": "line",
                    "xAxis": {"name": "performed_at"},
                    "yAxis": {
                        "series": [{"name": "score_value"}],
                        "format": "decimal-2",
                    },
                    "alertConfig": {
                        "reasonField": "score_failed_reason",
                        "field": "score_success",
                    },
                    "filterConfig": [
                        {
                            "type": "select",
                            "label": "Asset",
                            "property": "asset",
                            "autoSelectFirst": True,
                        },
                        {
                            "type": "select",
                            "label": "Horizon",
                            "property": "horizon",
                            "autoSelectFirst": True,
                        },
                    ],
                    "groupByProperty": "param",
                    "displayEvolution": False,
                },
            },
            {
                "id": 3,
                "type": "CHART",
                "displayName": "Rolling score by parameters",
                "tooltip": None,
                "order": 20,
                "endpointUrl": "/reports/models/params",
                "nativeConfiguration": {
                    "type": "line",
                    "xAxis": {"name": "performed_at"},
                    "yAxis": {
                        "series": [
                            {"name": "score_recent", "label": "Recent Score"},
                            {"name": "score_steady", "label": "Steady Score"},
                            {"name": "score_anchor", "label": "Anchor Score"},
                        ],
                        "format": "decimal-2",
                    },
                    "filterConfig": [
                        {
                            "type": "select",
                            "label": "Asset",
                            "property": "asset",
                            "autoSelectFirst": True,
                        },
                        {
                            "type": "select",
                            "label": "Horizon",
                            "property": "horizon",
                            "autoSelectFirst": True,
                        },
                    ],
                    "groupByProperty": "param",
                    "displayEvolution": False,
                },
            },
        ],
    }
